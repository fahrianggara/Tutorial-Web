<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hei Kamu!</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <!-- 
    Created by F Anggara
    Inspirated by Rayya R
    -->

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

        html,
        body {
            width: 100%;
            height: 100%;
            background: #121212;
            overflow: hidden;
            font-family: "Rubik", sans-serif;
        }

        p,
        span {
            margin: 0;
            padding: 0;
        }

        .container {
            position: relative;
            top: 29.5%;
        }

        .card {
            background: #121212;
            color: #fff;
            text-align: center;
            border: 1px solid #fff;
            border-radius: 8px;
        }

        .card-footer {
            border-top: 1px solid #fff;
            /* background: #121212; */
        }

        .card-footer .btn {
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.145);
        }

        .card-footer .btn:hover,
        .card-footer .btn:active {
            border: 1px solid #fff;
        }

        img#gif {
            width: 200px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        #slideToKonten {
            position: relative;
            top: 80%;
            color: #fff;
            font-weight: bold;
            font-size: 20px;
        }

        .bg_heart {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden !important;
        }

        .heart {
            opacity: 0.4;
            position: absolute;
            top: -50%;
            -webkit-transform: rotate(-45deg);
            -moz-transform: rotate(-45deg);
            -m-transform: rotate(-45deg);
            transform: rotate(-45deg)
        }

        .heart:before {
            position: absolute;
            top: -50%;
            left: 0;
            display: block;
            content: "";
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: 100%;
        }

        .heart:after {
            position: absolute;
            top: 0;
            right: -50%;
            display: block;
            content: "";
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: 100%;
        }

        @-webkit-keyframes love {
            0% {
                top: 110%
            }
        }

        @-moz-keyframes love {
            0% {
                top: 110%
            }
        }

        @-ms-keyframes love {
            0% {
                top: 110%
            }
        }

        @keyframes love {
            0% {
                top: 110%
            }
        }

        .swal2-popup {
            background: #121212 !important;
            border: 1px solid #fff !important;
            border-radius: 8px !important;
        }

        .swal2-image {
            border-radius: 8px !important;
        }

        .swal2-file,
        .swal2-input,
        .swal2-textarea {
            color: #fff !important;
            border-radius: 8px !important;
        }

        .swal2-styled.swal2-confirm {
            background-color: #121212 !important;
            border: 1px solid #fff !important;
            color: #fff;
            border-radius: 8px !important;
        }

        .swal2-styled.swal2-confirm:focus {
            box-shadow: none !important;
        }

        .swal2-html-container {
            color: #fff !important;
        }

        .swal2-popup.swal2-toast {
            box-shadow: none !important;
        }

        .swal2-timer-progress-bar {
            background-color: #303030 !important;
        }

        .swal2-title {
            color: #fff !important;
        }

        .swal2-file:focus,
        .swal2-input:focus,
        .swal2-textarea:focus {
            border: 2px solid #fff !important;
            box-shadow: none !important;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-4">
                <!-- Konten -->
                <div id="slideToKonten"></div>
                <div class="card opacity-0">
                    <div class="card-body">
                        <img id="gif" src="">
                        <p id="text_atas"></p>
                        <p id="text_bawah"></p>
                        <p id="chat_wa"></p>
                    </div>
                    <div id="button" class="card-footer d-none">
                        <button class="btn" id="btn_sayang" onclick="diTerima()">Sayang</button>
                        <span id="text_engga"></span>
                        <button class="btn" id="btn_engga" onmouseover="diTolak()">Engga</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="bg_heart"></div>

    <!-- JAVASCRIPT -->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous">
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
        </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>

    <script type="text/javascript">

        function hideContainer() {
            $(".container").addClass('opacity-0');
        }

        function showContainer() {
            openingK();
        }

        function showEnding() {
            hearts()
            $(".container").addClass('d-none');
        }

        function button() {
            $("#button").removeClass('d-none')
        }

        async function rejecthtml() {
            await alertReject.fire('' + textnolak);
        }

        let a = 0, opening;
        opening = "";

        let b = 0, hello;
        hello = "";

        let c = 0, text_dua;
        text_dua = "";

        let d = 0, text_tiga;
        text_tiga = "";

        let ab = 0, textb3
        textb3 = "";

        let ac = 0, last_dua;
        last_dua = "";

        function openingK() {
            if (a < opening.length) {
                document.getElementById("slideToKonten").innerHTML += opening.charAt(a);
                a++;
                setTimeout(openingK, 80);
            }

            if (a == opening.length) {
                setTimeout(button, 400)
                $('#slideToKonten').addClass('d-none');
                $(".container .card").removeClass('opacity-0');
                $("#gif").attr('src', gif1);
                $("#text_atas").html(text1);
                $("#text_bawah").html(textb1);

                $(".bg_heart").css({
                    'z-index': 1,
                })
                $(".card").css({
                    'z-index': 2,
                })
            }
        }

        tolakBtn = 1;
        tolakBtn2 = 1;

        function diTolak() {
            if (sayangBtn == 1) {
                if (tolakBtn2 == 1) {
                    $("#btn_engga").css({
                        'position': "relative",
                        'left': "42px",
                    });
                    $("#btn_sayang").addClass('opacity-0');
                    $("#text_engga").html(textDiTolak11);

                    tolakBtn2 = 2;
                } else if (tolakBtn2 == 2) {
                    $("#btn_engga").css({
                        'position': "relative",
                        'left': "-100px",
                        'top': "70px"
                    });

                    $("#text_engga").html(textDiTolak1);

                    tolakBtn2 = 3;
                } else if (tolakBtn2 == 3) {
                    $("#btn_engga").css({
                        'position': "relative",
                        'left': '0',
                        'top': '0'
                    });
                    $("#btn_sayang").removeClass('opacity-0');
                    $("#text_engga").html('');

                    tolakBtn2 = 1;
                }
            } else if (sayangBtn == 2) {
                if (tolakBtn == 1) {
                    $("#btn_engga").css({
                        'position': "relative",
                        'left': "24px",
                    });
                    $("#btn_sayang").addClass('opacity-0');
                    $("#text_engga").html(textDiTolak2);

                    tolakBtn = 2;
                } else if (tolakBtn == 2) {
                    $("#btn_engga").css({
                        'position': "relative",
                        'left': "-105px",
                        'top': "70px",
                    });
                    $("#btn_sayang").addClass('opacity-0');
                    $("#text_engga").html(textDiTolak22);

                    tolakBtn = 3
                } else if (tolakBtn == 3) {
                    $("#btn_engga").css({
                        'position': "relative",
                        'left': '0',
                        'top': '0'
                    });
                    $("#btn_sayang").removeClass('opacity-0');
                    $("#text_engga").html('');
                    rejecthtml();

                    tolakBtn = 1;
                }
            }
        }

        sayangBtn = 1;

        async function diTerima() {
            if (sayangBtn == 1) {
                $("#gif").attr('src', gif2);
                $("#text_atas").html(text_dua);
                $("#text_bawah").html(textb2);
                $('#button').addClass('d-none');
                setTimeout(button, 400);
                $("#btn_sayang").html("Mau !!");

                sayangBtn = 2
            } else if (sayangBtn == 2) {
                $("#gif").attr('src', gif3);

                $("#text_atas").html(text_tiga);

                $("#text_atas").css({
                    'margin-bottom': "10px",
                });
                $("#text_bawah").html(textb3);

                $('#button').addClass('d-none');

                $(".bg_heart").css({
                    'z-index': 2,
                })
                $(".card").css({
                    'z-index': 1,
                })
                createHearts();
            }
        }

        // Sweet alert
        const alertInput = Swal.mixin({
            allowOutsideClick: false,
            cancelButtonColor: '#FF0040',
        });

        const alertReject = Swal.mixin({
            toast: true,
            position: "top-end",
            allowOutsideClick: false,
            showConfirmButton: false,
            timer: 2000,
            timerProgressBar: true,
        });

        // date
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0');
        var yyyy = today.getFullYear();
        const monthNames = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];
        const dayNames = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jum'at", "Sabtu"];

        function playMusic() {
            var audio = new Audio(bg_musik);
            audio.play();
            audio.loop = true;
            audio.addEventListener('ended', function () {
                this.currentTime = 0;
                this.play();
            }, false);
        }

        async function mulai() {
            var {
                value: nama
            } = await alertInput.fire({
                title: 'Nama kamu',
                input: 'text',
                imageUrl: 'https://c.tenor.com/w5Bc0W8YgTgAAAAC/cute-animals.gif',
                imageWidth: 200,
                imageHeight: 200,
                allowOutsideClick: false,
                showCancelButton: false,
            });

            if (nama.length >= 13) {
                await alertInput.fire('Oops!', 'Nama tidak boleh lebih dari 13 Huruf yaa..');
                mulai();
            } else if (nama == '') {
                await alertInput.fire('Oops!', 'Jangan lupa isi nama kamu yaa..');
                mulai();
            } else if (!/^[a-z]+$/.test(nama)) {
                await alertInput.fire('Oops!', 'Nama harus berupa Huruf aja yaa..');
                mulai();
            } else {
                window.nama = nama;
                variable();
                playMusic();
            }
        }

        async function tanpanama() {
            nama = "Kamu";
            window.nama = nama;
            variable();
        }

        // EDIT TEXT,GIF DAN MUSIK SEMUANYA DISINI
        async function variable() {
            opening = "Hai " + nama + ", Jawab DUA pertanyaan ini dengan jujur yaa....";
            today = dd + ' ' + monthNames[today.getMonth()] + ' ' + yyyy;
            hari = dayNames[new Date().getDay()];
            text1 = nama + ", sayang gak sama Aku?";
            textb1 = "";
            text_dua = "kalau sayang, berarti " + nama + " mau dong jadi pacar Aku?🥺";
            textb2 = "";
            text_tiga = "Yeaayy! Akhirnya " + nama + " dan Aku Jadian🥰💝";
            textb3 = "Dan hari ini.. " + hari.bold() + ", " + today.bold() + " adalah tanggal jadian kita💖";
            textnolak = "Harus mau >< !!";
            gif1 = "https://i.pinimg.com/originals/fd/ba/0b/fdba0b8080661882ea3bd4a339472a51.gif";
            gif2 = "https://c.tenor.com/aoVSHLODxTAAAAAC/peachcat.gif";
            gif3 = "https://c.tenor.com/aGiJKEun9CYAAAAi/wow-excited.gif";
            bg_musik = "https://blog.kanzankazu.web.id/vendor/blog/music/music.mp3";
            textDiTolak1 = "Eitss Gabisaa😜";
            textDiTolak11 = "Yakin?😆";
            textDiTolak2 = "Yakin engga?🥰";
            textDiTolak22 = "Wlee, Gabisaa😝";
            showContainer();
        }

        // START
        mulai();

        function createHearts() {
            $(document).ready(function () {
                let love = setInterval(function () {
                    let number = Math.floor(Math.random() * 40) + 1;
                    let size = Math.floor(Math.random() * 65) + 10;
                    let left = Math.floor(Math.random() * 100) + 1;
                    let background = Math.floor(Math.random() * 25) + 100;
                    let time = Math.floor(Math.random() * 5) + 5;

                    $('.bg_heart').append("<div class='heart' style='width:" + size + "px;height:" + size + "px;left:" + left + "%;background:rgba(255," + (background - 25) + "," + background + ",1);-webkit-animation:love " + time + "s ease;-moz-animation:love " + time + "s ease;-ms-animation:love " + time + "s ease;animation:love " + time + "s ease'></div>");

                    $('.bg_heart').append("<div class='heart' style='width:" + (size - 10) + "px;height:" + (size - 10) + "px;left:" + (left + number) + "%;background:rgba(255," + (background - 25) + "," + (background + 25) + ",1);-webkit-animation:love " + (time + 5) + "s ease;-moz-animation:love " + (time + 5) + "s ease;-ms-animation:love " + (time + 5) + "s ease;animation:love " + (time + 5) + "s ease'></div>");

                    $('.bg_heart').append("<div class='heart' style='width:" + (size - 10) + "px;height:" + (size - 10) + "px;left:" + (left + number) + "%;background:rgba(255," + (background - 25) + "," + (background + 25) + ",1);-webkit-animation:love " + (time + 5) + "s ease;-moz-animation:love " + (time + 5) + "s ease;-ms-animation:love " + (time + 5) + "s ease;animation:love " + (time + 5) + "s ease'></div>");

                    $('.heart').each(function () {
                        let top = $(this).css("top").replace(/[^-\d\.]/g, '');
                        let width = $(this).css("width").replace(/[^-\d\.]/g, '');
                        if (top <= -100 || width >= 150) {
                            $(this).detach();
                        }
                    });
                }, 500);
            });
        }
    </script>
</body>

</html>